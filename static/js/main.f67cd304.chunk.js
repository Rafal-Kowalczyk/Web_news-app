(this["webpackJsonpweb_news-app"]=this["webpackJsonpweb_news-app"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),r=n(5),s=n.n(r),i=n(1),o=n(4),l=n.n(o),u=n(6),b=n(7),j="SET_LOADING",d="SET_STORIES",h="REMOVE_STORY",p="HANDLE_PAGE",O="HANDLE_SEARCH",f=function(e,t){switch(t.type){case j:return Object(i.a)(Object(i.a)({},e),{},{isLoading:!0});case d:return Object(i.a)(Object(i.a)({},e),{},{isLoading:!1,hits:t.payload.hits,nbPages:t.payload.nbPages});case O:return Object(i.a)(Object(i.a)({},e),{},{query:t.payload,page:0});case h:return Object(i.a)(Object(i.a)({},e),{},{hits:e.hits.filter((function(e){return e.objectID!==t.payload}))});case p:if("inc"===t.payload){var n=e.page+1;return n>e.nbPage-1&&(n=0),Object(i.a)(Object(i.a)({},e),{},{page:n})}if("dec"===t.payload){var a=e.page-1;return a<0&&(a=e.nbPage-1),Object(i.a)(Object(i.a)({},e),{},{page:a})}break;default:throw new Error('no mathching "'.concat(t.type,'" action type'))}},m=n(0),g={isLoading:!0,query:"react",hits:[],page:0,nbPages:0},v=c.a.createContext(),x=function(e){var t=e.children,n=Object(a.useReducer)(f,g),c=Object(b.a)(n,2),r=c[0],s=c[1],o=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:j}),e.prev=1,e.next=4,fetch(t);case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,s({type:d,payload:{hits:a.hits,nbPages:a.nbPages}}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){o("".concat("https://hn.algolia.com/api/v1/search?","query=").concat(r.query,"&page=").concat(r.page))}),[r.query,r.page]),Object(m.jsx)(v.Provider,{value:Object(i.a)(Object(i.a)({},r),{},{removeStory:function(e){s({type:h,payload:e})},handleSearch:function(e){s({type:O,payload:e})},handlePage:function(e){s({type:p,payload:e})}}),children:t})},y=function(){return Object(a.useContext)(v)};n(14);var _=function(){var e=y(),t=e.isLoading,n=e.page,a=e.nbPages,c=e.handlePage;return Object(m.jsxs)("div",{className:"btn-container",children:[Object(m.jsx)("button",{disabled:t,onClick:function(){return c("dec")},className:"btn-nav",children:"prev"}),Object(m.jsxs)("p",{className:"btn-desc",children:[n+1," of ",a]}),Object(m.jsx)("button",{disabled:t,onClick:function(){return c("inc")},className:"btn-nav",children:"next"})]})};n(15);var N=function(){var e=y(),t=e.query,n=e.handleSearch;return Object(m.jsxs)("section",{className:"search",children:[Object(m.jsx)("h2",{className:"search__title",children:"Search news"}),Object(m.jsxs)("form",{className:"search__form",onSubmit:function(e){e.preventDefault()},children:[Object(m.jsx)("label",{htmlFor:"news"}),Object(m.jsx)("input",{type:"text",id:"news",className:"search__form-input",value:t,onChange:function(e){return n(e.target.value)}})]})]})};n(16);var w=function(){var e=y(),t=e.isLoading,n=e.hits,a=e.removeStory;return t?Object(m.jsx)("div",{className:"loading"}):Object(m.jsx)("section",{className:"stories ",children:n.map((function(e){var t=e.objectID,n=e.title,c=e.points,r=e.author,s=e.num_comments,i=e.url;return Object(m.jsxs)("article",{className:"stories__story",children:[Object(m.jsx)("h3",{className:"stories__title",children:n}),Object(m.jsxs)("p",{className:"stories__info",children:[c," points by ",r," | ",s," comments"]}),Object(m.jsxs)("div",{className:"stories__buttons",children:[Object(m.jsx)("a",{href:i,target:"_blank",className:"stories__read",rel:"noopener noreferrer",children:"Read more"}),Object(m.jsx)("button",{className:"stories__remove",onClick:function(){return a(t)},children:"Remove"})]})]},t)}))})};var S=function(){return Object(m.jsxs)("main",{className:"container",children:[Object(m.jsx)(N,{}),Object(m.jsx)(_,{}),Object(m.jsx)(w,{})]})};n(17);s.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(x,{children:Object(m.jsx)(S,{})})}),document.getElementById("root"))}],[[18,1,2]]]);
//# sourceMappingURL=main.f67cd304.chunk.js.map
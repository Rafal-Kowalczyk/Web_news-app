{"version":3,"sources":["reducer/actions.js","reducer/reducer.js","context/context.js","components/ButtonsNav/ButtonsNav.js","components/SearchForm/SearchForm.js","components/StoriesContent/StoriesContent.js","App.js","index.js"],"names":["SET_LOADING","SET_STORIES","REMOVE_STORY","HANDLE_PAGE","HANDLE_SEARCH","reducer","state","action","type","isLoading","hits","payload","nbPages","query","page","filter","story","objectID","nextPage","nbPage","prevPage","Error","initialState","AppContext","React","createContext","AppProvider","children","useReducer","dispatch","fetchStories","url","a","fetch","response","json","data","console","log","useEffect","Provider","value","removeStory","id","handleSearch","handlePage","useGlobalContext","useContext","ButtonsNav","className","disabled","onClick","SearchForm","onSubmit","e","preventDefault","htmlFor","onChange","target","StoriesContent","map","title","points","author","num_comments","href","rel","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f67cd304.chunk.js","sourcesContent":["export const SET_LOADING = \"SET_LOADING\";\r\nexport const SET_STORIES = \"SET_STORIES\";\r\nexport const REMOVE_STORY = \"REMOVE_STORY\";\r\nexport const HANDLE_PAGE = \"HANDLE_PAGE\";\r\nexport const HANDLE_SEARCH = \"HANDLE_SEARCH\";\r\n","import {\r\n  SET_LOADING,\r\n  SET_STORIES,\r\n  REMOVE_STORY,\r\n  HANDLE_PAGE,\r\n  HANDLE_SEARCH,\r\n} from \"../reducer/actions\";\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case SET_LOADING:\r\n      return { ...state, isLoading: true };\r\n\r\n    case SET_STORIES:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        hits: action.payload.hits,\r\n        nbPages: action.payload.nbPages,\r\n      };\r\n\r\n    case HANDLE_SEARCH:\r\n      return { ...state, query: action.payload, page: 0 };\r\n\r\n    case REMOVE_STORY:\r\n      return {\r\n        ...state,\r\n        hits: state.hits.filter((story) => story.objectID !== action.payload),\r\n      };\r\n\r\n    case HANDLE_PAGE:\r\n      if (action.payload === \"inc\") {\r\n        let nextPage = state.page + 1;\r\n        if (nextPage > state.nbPage - 1) {\r\n          nextPage = 0;\r\n        }\r\n        return { ...state, page: nextPage };\r\n      }\r\n      if (action.payload === \"dec\") {\r\n        let prevPage = state.page - 1;\r\n        if (prevPage < 0) {\r\n          prevPage = state.nbPage - 1;\r\n        }\r\n        return { ...state, page: prevPage };\r\n      }\r\n\r\n      break;\r\n    default:\r\n      throw new Error(`no mathching \"${action.type}\" action type`);\r\n  }\r\n};\r\nexport default reducer;\r\n","import React, { useContext, useEffect, useReducer } from \"react\";\r\n\r\nimport {\r\n  SET_LOADING,\r\n  SET_STORIES,\r\n  REMOVE_STORY,\r\n  HANDLE_PAGE,\r\n  HANDLE_SEARCH,\r\n} from \"../reducer/actions\";\r\nimport reducer from \"../reducer/reducer\";\r\n\r\nconst API_ENDPOINT = \"https://hn.algolia.com/api/v1/search?\";\r\n\r\nconst initialState = {\r\n  isLoading: true,\r\n  query: \"react\",\r\n  hits: [],\r\n  page: 0,\r\n  nbPages: 0,\r\n};\r\n\r\nconst AppContext = React.createContext();\r\n\r\nexport const AppProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  const fetchStories = async (url) => {\r\n    dispatch({ type: SET_LOADING });\r\n    try {\r\n      const response = await fetch(url);\r\n      const data = await response.json();\r\n\r\n      dispatch({\r\n        type: SET_STORIES,\r\n        payload: { hits: data.hits, nbPages: data.nbPages },\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  const removeStory = (id) => {\r\n    dispatch({ type: REMOVE_STORY, payload: id });\r\n  };\r\n  const handleSearch = (query) => {\r\n    dispatch({ type: HANDLE_SEARCH, payload: query });\r\n  };\r\n  const handlePage = (value) => {\r\n    dispatch({ type: HANDLE_PAGE, payload: value });\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchStories(`${API_ENDPOINT}query=${state.query}&page=${state.page}`);\r\n  }, [state.query, state.page]);\r\n\r\n  return (\r\n    <AppContext.Provider\r\n      value={{ ...state, removeStory, handleSearch, handlePage }}\r\n    >\r\n      {children}\r\n    </AppContext.Provider>\r\n  );\r\n};\r\n\r\n//my hook\r\nexport const useGlobalContext = () => {\r\n  return useContext(AppContext);\r\n};\r\n","import React from \"react\";\r\nimport { useGlobalContext } from \"../../context/context\";\r\n\r\nimport \"../../styles/buttonsNav.scss\";\r\n\r\nfunction ButtonsNav() {\r\n  const { isLoading, page, nbPages, handlePage } = useGlobalContext();\r\n  return (\r\n    <div className=\"btn-container\">\r\n      <button\r\n        disabled={isLoading}\r\n        onClick={() => handlePage(\"dec\")}\r\n        className=\"btn-nav\"\r\n      >\r\n        prev\r\n      </button>\r\n      <p className=\"btn-desc\">\r\n        {page + 1} of {nbPages}\r\n      </p>\r\n      <button\r\n        disabled={isLoading}\r\n        onClick={() => handlePage(\"inc\")}\r\n        className=\"btn-nav\"\r\n      >\r\n        next\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ButtonsNav;\r\n","import React from \"react\";\r\nimport { useGlobalContext } from \"../../context/context\";\r\nimport \"../../styles/searchForm.scss\";\r\n\r\nfunction SearchForm() {\r\n  const { query, handleSearch } = useGlobalContext();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n  };\r\n\r\n  return (\r\n    <section className=\"search\">\r\n      <h2 className=\"search__title\">Search news</h2>\r\n      <form className=\"search__form\" onSubmit={handleSubmit}>\r\n        <label htmlFor=\"news\"></label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"news\"\r\n          className=\"search__form-input\"\r\n          value={query}\r\n          onChange={(e) => handleSearch(e.target.value)}\r\n        />\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default SearchForm;\r\n","import React from \"react\";\r\nimport { useGlobalContext } from \"../../context/context\";\r\n\r\nimport \"../../styles/storiesContent.scss\";\r\n\r\nfunction StoriesContent() {\r\n  const { isLoading, hits, removeStory } = useGlobalContext();\r\n\r\n  if (isLoading) {\r\n    return <div className=\"loading\"></div>;\r\n  }\r\n  return (\r\n    <section className=\"stories \">\r\n      {hits.map((story) => {\r\n        const { objectID, title, points, author, num_comments, url } = story;\r\n        return (\r\n          <article key={objectID} className=\"stories__story\">\r\n            <h3 className=\"stories__title\">{title}</h3>\r\n            <p className=\"stories__info\">\r\n              {points} points by {author} | {num_comments} comments\r\n            </p>\r\n            <div className=\"stories__buttons\">\r\n              <a\r\n                href={url}\r\n                target=\"_blank\"\r\n                className=\"stories__read\"\r\n                rel=\"noopener noreferrer\"\r\n              >\r\n                Read more\r\n              </a>\r\n              <button\r\n                className=\"stories__remove\"\r\n                onClick={() => removeStory(objectID)}\r\n              >\r\n                Remove\r\n              </button>\r\n            </div>\r\n          </article>\r\n        );\r\n      })}\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default StoriesContent;\r\n","import ButtonsNav from \"./components/ButtonsNav/ButtonsNav\";\nimport SearchForm from \"./components/SearchForm/SearchForm\";\nimport StoriesContent from './components/StoriesContent/StoriesContent';\n\nfunction App() {\n  return (\n    <main className=\"container\">\n      <SearchForm/>\n      <ButtonsNav/>\n      <StoriesContent/>\n    </main>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { AppProvider } from \"./context/context\";\n\nimport \"./styles/index.scss\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider>\n      <App />\n    </AppProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}